{"version":3,"sources":["components/common/FormsControl/FormsControl.js","components/common/FormsControl/FormsControl.module.css","utils/validators/validators.js","assets/images/user.png","hoc/withAuthRedirect.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Myposts/MyPosts.module.css","components/Profile/Myposts/Post/Post.module.css","components/Profile/Myposts/Post/Post.jsx","components/Profile/Myposts/Myposts.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Myposts/MypostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["FormControl","input","meta","touched","error","children","hasError","className","s","formControl","Textarea","props","restProps","child","Input","createField","placeholder","name","validate","component","text","module","exports","required","value","maxLengthCreator","maxLength","length","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","Post","item","src","alt","message","likesCount","MyPosts","memo","postsElements","posts","map","p","postsBlock","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","maxLength10","reduxForm","form","handleSubmit","Field","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileInfo","profile","isOwner","savePhoto","Preloader","intro","descriptionBlock","photo","photos","large","userPhoto","mainPhoto","type","target","files","info","title","fullName","aboutMe","contacts","facebook","vk","twitter","instagram","youtube","github","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","match","params","authorizedUserId","history","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","compose","withRouter"],"mappings":"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","file":"static/js/4.bdc85bcd.chunk.js","sourcesContent":["import React from \"react\";\r\nimport s from './FormsControl.module.css';\r\nimport { Field, reduxForm } from \"redux-form\";\r\n\r\n\r\nexport const FormControl = ({ input, meta: { touched, error }, children }) => {\r\n\tconst hasError = touched && error;\r\n\treturn (\r\n\t\t<div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n\t\t\t<div>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t\t{hasError && <span>{error}</span>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport const Textarea = (props) => {\r\n\tconst { input, meta, child, ...restProps } = props;\r\n\treturn <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>;\r\n}\r\n\r\nexport const Input = (props) => {\r\n\tconst { input, meta, child, ...restProps } = props;\r\n\treturn <FormControl {...props}><input {...input} {...restProps} /></FormControl>;\r\n}\r\n\r\nexport const createField = (placeholder, name, validate, component, props = {}, text = \"\") => {\r\n\treturn <div>\r\n\t\t<Field placeholder={placeholder} name={name}\r\n\t\t\tvalidate={validate}\r\n\t\t\tcomponent={component}\r\n\t\t\t{...props}\r\n\t\t/>{text}\r\n\t</div>\r\n\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__2Q_HW\",\"error\":\"FormsControl_error__3yYxs\",\"formSummaryError\":\"FormsControl_formSummaryError__1OOzH\"};","export const required = value => {\r\n\tif (value) return undefined;\r\n\treturn 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\treturn undefined;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/user.d02b4357.png\";","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from \"react-router\";\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n\treturn ConnectedAuthRedirectComponent;\r\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"intro\":\"ProfileInfo_intro__Ib_Jh\",\"mainPhoto\":\"ProfileInfo_mainPhoto__3l5_e\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__RZLbZ\",\"photo\":\"ProfileInfo_photo__2bhRX\",\"info\":\"ProfileInfo_info__2FDFz\",\"title\":\"ProfileInfo_title__3P_0V\",\"contacts\":\"ProfileInfo_contacts__3_iIs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2uHUJ\",\"posts\":\"MyPosts_posts__38niZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3qM8z\"};","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n\treturn (\r\n\t\t<div className={s.item}>\r\n\t\t\t<img src=\"https://i.pinimg.com/originals/f5/27/41/f52741fb62bf1d821948a49204406bdc.jpg\" alt=\"\" />\r\n\t\t\t{props.message}\r\n\t\t\t<div>\r\n\t\t\t\t<span>like</span> {props.likesCount}\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Post;","import React, { Component } from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { required, maxLengthCreator } from \"./../../../utils/validators/validators\";\r\nimport { Textarea } from '../../common/FormsControl/FormsControl';\r\n\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n\t/*shouldComponentUpdate(nextProps, nextState) {\r\n\t\treturn nextProps != this.props || nextState != this.state;\r\n\t}*/\r\n\r\n\tlet postsElements = props.posts.map(p => <Post message={p.message} likesCount={p.likesCount} />);\r\n\r\n\tlet newPostElement = React.createRef();\r\n\r\n\tlet onAddPost = (values) => {\r\n\t\tprops.addPost(values.newPostText);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={s.postsBlock}>\r\n\t\t\t<h3>My posts</h3>\r\n\t\t\t<AddNewPostFormRedux onSubmit={onAddPost} />\r\n\t\t\t<div className={s.posts}>\r\n\t\t\t\t{postsElements}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n});\r\n\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst addNewPostForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field name=\"newPostText\" component={Textarea} placeholder={\"Post message\"} validate={[required, maxLength10]} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button>Add post</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n};\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: \"ProfileAddNewPostForm\" })(addNewPostForm);\r\n\r\n\r\nexport default MyPosts;","import React, { useEffect, useState } from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\tlet [status, setStatus] = useState(props.status);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetStatus(props.status);\r\n\t}, [props.status]);\r\n\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true);\r\n\t};\r\n\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false);\r\n\t\tprops.updateStatus(status);\r\n\t};\r\n\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetStatus(e.currentTarget.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{!editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span onDoubleClick={activateEditMode}>{props.status || \"----\"}</span>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode}\r\n\t\t\t\t\t\tvalue={status} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\nimport userPhoto from '../../../assets/images/user.png';\r\nimport { propTypes } from 'redux-form';\r\n\r\nconst ProfileInfo = ({ profile, status, updateStatus, isOwner, savePhoto }) => {\r\n\r\n\tif (!profile) {\r\n\t\treturn <Preloader />\r\n\t}\r\n\r\n\tconst mainPhotoSelected = (e) => {\r\n\t\tif (e.target.files.length) {\r\n\t\t\tsavePhoto(e.target.files[0]);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={s.intro}>\r\n\t\t\t\t<img src='https://images.ctfassets.net/hrltx12pl8hq/7yQR5uJhwEkRfjwMFJ7bUK/dc52a0913e8ff8b5c276177890eb0129/offset_comp_772626-opt.jpg?fit=fill&w=800&h=300' />\r\n\t\t\t</div>\r\n\t\t\t<div className={s.descriptionBlock}>\r\n\t\t\t\t<div className={s.photo}>\r\n\t\t\t\t\t<img src={profile.photos.large || userPhoto} className={s.mainPhoto} />\r\n\t\t\t\t\t{isOwner && <input type={\"file\"} onChange={mainPhotoSelected} />}\r\n\t\t\t\t\t<ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={s.info}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<span className={s.title}>Name:</span> {profile.fullName}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<span className={s.title}>Info</span>: {profile.aboutMe}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<span className={s.title}>Contacts:</span>\r\n\t\t\t\t\t\t<div className={s.contacts}>\r\n\t\t\t\t\t\t\t<div>{profile.contacts.facebook}</div>\r\n\t\t\t\t\t\t\t<div>{profile.contacts.vk}</div>\r\n\t\t\t\t\t\t\t<div>{profile.contacts.twitter}</div>\r\n\t\t\t\t\t\t\t<div>{profile.contacts.instagram}</div>\r\n\t\t\t\t\t\t\t<div>{profile.contacts.youtube}</div>\r\n\t\t\t\t\t\t\t<div>{profile.contacts.github}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer';\r\nimport MyPosts from './Myposts';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tposts: state.profilePage.posts,\r\n\t\tnewPostText: state.profilePage.newPostText\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPost: (newPostText) => {\r\n\t\t\tdispatch(addPostActionCreator(newPostText));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport MyPosts from './Myposts/Myposts';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './Myposts/MypostsContainer';\r\n\r\nconst Profile = (props) => {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<ProfileInfo savePhoto={props.savePhoto} isOwner={props.isOwner} profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n\t\t\t<MyPostsContainer />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport * as axios from 'axios';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getUserProfile, getStatus, updateStatus, savePhoto } from './../../redux/profile-reducer';\r\nimport { withRouter } from 'react-router';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n\trefreshProfile() {\r\n\t\tlet userId = this.props.match.params.userId;\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.authorizedUserId;\r\n\t\t\tif (!userId) {\r\n\t\t\t\tthis.props.history.push(\"/login\")\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.props.getUserProfile(userId);\r\n\t\tthis.props.getStatus(userId);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.refreshProfile();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif (this.props.match.params.userId != prevProps.match.params.userId) {\r\n\t\t\tthis.refreshProfile();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Profile {...this.props}\r\n\t\t\t\tisOwner={!this.props.match.params.userId}\r\n\t\t\t\tprofile={this.props.profile}\r\n\t\t\t\tstatus={this.props.status}\r\n\t\t\t\tupdateStatus={this.props.updateStatus}\r\n\t\t\t\tsavePhoto={this.props.savePhoto} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tprofile: state.profilePage.profile,\r\n\tstatus: state.profilePage.status,\r\n\tauthorizedUserId: state.auth.userId,\r\n\tisAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto }),\r\n\twithRouter,\r\n\twithAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}