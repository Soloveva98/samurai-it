{"version":3,"sources":["components/common/FormsControl/FormsControl.js","components/common/FormsControl/FormsControl.module.css","utils/validators/validators.js","assets/images/user.png","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileInfo.module.css","hoc/withAuthRedirect.js","components/Profile/Myposts/MyPosts.module.css","components/Profile/Myposts/Post/Post.module.css","components/Profile/Myposts/Post/Post.jsx","components/Profile/Myposts/Myposts.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Myposts/MypostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["FormControl","input","meta","touched","error","children","hasError","className","s","formControl","Textarea","props","restProps","child","Input","createField","placeholder","name","validate","component","text","module","exports","required","value","maxLengthCreator","maxLength","length","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","Post","item","src","alt","message","likesCount","MyPosts","memo","postsElements","posts","map","p","id","postsBlock","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","maxLength10","reduxForm","form","handleSubmit","Field","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileDataFormReduxForm","profile","info","formSummaryError","title","type","contacts","keys","key","contact","ProfileData","isOwner","goToEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","ProfileInfo","savePhoto","saveProfile","Preloader","intro","descriptionBlock","photo","photos","large","userPhoto","mainPhoto","target","files","initialValues","formData","then","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","match","params","authorizedUserId","history","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","compose","withRouter"],"mappings":"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","file":"static/js/4.05d3201d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport s from './FormsControl.module.css';\r\nimport { Field, reduxForm } from \"redux-form\";\r\n\r\n\r\nexport const FormControl = ({ input, meta: { touched, error }, children }) => {\r\n\tconst hasError = touched && error;\r\n\treturn (\r\n\t\t<div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n\t\t\t<div>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t\t{hasError && <span>{error}</span>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport const Textarea = (props) => {\r\n\tconst { input, meta, child, ...restProps } = props;\r\n\treturn <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>;\r\n}\r\n\r\nexport const Input = (props) => {\r\n\tconst { input, meta, child, ...restProps } = props;\r\n\treturn <FormControl {...props}><input {...input} {...restProps} /></FormControl>;\r\n}\r\n\r\nexport const createField = (placeholder, name, validate, component, props = {}, text = \"\") => {\r\n\treturn <div>\r\n\t\t<Field placeholder={placeholder} name={name}\r\n\t\t\tvalidate={validate}\r\n\t\t\tcomponent={component}\r\n\t\t\t{...props}\r\n\t\t/>{text}\r\n\t</div>\r\n\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__2Q_HW\",\"error\":\"FormsControl_error__3yYxs\",\"formSummaryError\":\"FormsControl_formSummaryError__1OOzH\"};","export const required = value => {\r\n\tif (value) return undefined;\r\n\treturn 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\treturn undefined;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/user.d02b4357.png\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"intro\":\"ProfileInfo_intro__Ib_Jh\",\"mainPhoto\":\"ProfileInfo_mainPhoto__3l5_e\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__RZLbZ\",\"photo\":\"ProfileInfo_photo__2bhRX\",\"info\":\"ProfileInfo_info__2FDFz\",\"title\":\"ProfileInfo_title__3P_0V\",\"contacts\":\"ProfileInfo_contacts__3_iIs\",\"formSummaryError\":\"ProfileInfo_formSummaryError__3O5uN\"};","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from \"react-router\";\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n\treturn ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2uHUJ\",\"posts\":\"MyPosts_posts__38niZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3qM8z\"};","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n\treturn (\r\n\t\t<div className={s.item}>\r\n\t\t\t<img src=\"https://i.pinimg.com/originals/f5/27/41/f52741fb62bf1d821948a49204406bdc.jpg\" alt=\"\" />\r\n\t\t\t{props.message}\r\n\t\t\t<div>\r\n\t\t\t\t<span>like</span> {props.likesCount}\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Post;","import React, { Component } from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { required, maxLengthCreator } from \"./../../../utils/validators/validators\";\r\nimport { Textarea } from '../../common/FormsControl/FormsControl';\r\n\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n\t/*shouldComponentUpdate(nextProps, nextState) {\r\n\t\treturn nextProps != this.props || nextState != this.state;\r\n\t}*/\r\n\r\n\tlet postsElements = props.posts.map(p => <Post key={p.id} message={p.message} likesCount={p.likesCount} />);\r\n\r\n\tlet newPostElement = React.createRef();\r\n\r\n\tlet onAddPost = (values) => {\r\n\t\tprops.addPost(values.newPostText);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={s.postsBlock}>\r\n\t\t\t<h3>My posts</h3>\r\n\t\t\t<AddNewPostFormRedux onSubmit={onAddPost} />\r\n\t\t\t<div className={s.posts}>\r\n\t\t\t\t{postsElements}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n});\r\n\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst addNewPostForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field name=\"newPostText\" component={Textarea} placeholder={\"Post message\"} validate={[required, maxLength10]} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button>Add post</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n};\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: \"ProfileAddNewPostForm\" })(addNewPostForm);\r\n\r\n\r\nexport default MyPosts;","import React, { useEffect, useState } from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\tlet [status, setStatus] = useState(props.status);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetStatus(props.status);\r\n\t}, [props.status]);\r\n\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true);\r\n\t};\r\n\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false);\r\n\t\tprops.updateStatus(status);\r\n\t};\r\n\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetStatus(e.currentTarget.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{!editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>Status: </b><span onDoubleClick={activateEditMode}>{props.status || \"----\"}</span>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode}\r\n\t\t\t\t\t\tvalue={status} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React, { useState } from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\nimport userPhoto from '../../../assets/images/user.png';\r\nimport { propTypes, reduxForm } from 'redux-form';\r\nimport { createField, Input, Textarea } from '../../common/FormsControl/FormsControl';\r\nimport { Contact } from './ProfileInfo';\r\n\r\n\r\nconst ProfileDataForm = ({ handleSubmit, profile, error }) => {\r\n\treturn <form onSubmit={handleSubmit} className={s.info}>\r\n\t\t<div>\r\n\t\t\t<button>Save</button>\r\n\t\t</div>\r\n\r\n\t\t{error && <div className={s.formSummaryError}>\r\n\t\t\t{error}\r\n\t\t</div>}\r\n\r\n\t\t<div>\r\n\t\t\t<span className={s.title}>Full name:</span> {createField(\"Full name\", \"FullName\", [], Input)}\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<span className={s.title}>Looking for a job:</span> {createField(\"\", \"lookingForAJob\", [], Input, { type: \"checkbox\" })}\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<span className={s.title}>My professional skills:</span> {createField(\"My professional skills\", \"lookingForAJobDescription\", [], Textarea)}\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<span className={s.title}>About me:</span> {createField(\"About me\", \"aboutMe\", [], Textarea)}\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<span className={s.title}>Contacts:</span>\r\n\t\t\t<div className={s.contacts}>\r\n\t\t\t\t{Object.keys(profile.contacts).map(key => {\r\n\t\t\t\t\treturn <div key={key} className={s.contact}>\r\n\t\t\t\t\t\t<b>{key}: {createField(key, \"contacts.\" + key, [], Input)}</b>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</form>\r\n}\r\n\r\n\r\nconst ProfileDataFormReduxForm = reduxForm({ form: 'edit-profile' })(ProfileDataForm);\r\n\r\n\r\nexport default ProfileDataFormReduxForm;","import React, { useState } from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\nimport userPhoto from '../../../assets/images/user.png';\r\nimport { propTypes } from 'redux-form';\r\nimport ProfileDataForm from './ProfileDataForm';\r\n\r\nconst ProfileInfo = ({ profile, status, updateStatus, isOwner, savePhoto, saveProfile }) => {\r\n\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\r\n\tif (!profile) {\r\n\t\treturn <Preloader />\r\n\t}\r\n\r\n\tconst mainPhotoSelected = (e) => {\r\n\t\tif (e.target.files.length) {\r\n\t\t\tsavePhoto(e.target.files[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tconst onSubmit = (formData) => {\r\n\t\tsaveProfile(formData).then(() => {\r\n\t\t\tsetEditMode(false);\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={s.intro}>\r\n\t\t\t\t<img src='https://images.ctfassets.net/hrltx12pl8hq/7yQR5uJhwEkRfjwMFJ7bUK/dc52a0913e8ff8b5c276177890eb0129/offset_comp_772626-opt.jpg?fit=fill&w=800&h=300' />\r\n\t\t\t</div>\r\n\t\t\t<div className={s.descriptionBlock}>\r\n\t\t\t\t<div className={s.photo}>\r\n\t\t\t\t\t<img src={profile.photos.large || userPhoto} className={s.mainPhoto} />\r\n\t\t\t\t\t{isOwner && <input type={\"file\"} onChange={mainPhotoSelected} />}\r\n\t\t\t\t\t<ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n\t\t\t\t</div>\r\n\t\t\t\t{editMode\r\n\t\t\t\t\t? <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit} />\r\n\t\t\t\t\t: <ProfileData goToEditMode={() => { setEditMode(true) }} profile={profile} isOwner={isOwner} />}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nconst ProfileData = ({ profile, isOwner, goToEditMode }) => {\r\n\treturn (\r\n\t\t<div className={s.info}>\r\n\t\t\t{isOwner && <div><button onClick={goToEditMode}>edit</button></div>}\r\n\t\t\t<div>\r\n\t\t\t\t<span className={s.title}>Full name:</span> {profile.fullName}\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<span className={s.title}>Looking for a job:</span> {profile.lookingForAJob ? \"yes\" : \"no\"}\r\n\t\t\t</div>\r\n\t\t\t{profile.lookingForAJob &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span className={s.title}>My professional skills:</span> {profile.lookingForAJobDescription}\r\n\t\t\t\t</div>}\r\n\t\t\t<div>\r\n\t\t\t\t<span className={s.title}>About me</span>: {profile.aboutMe}\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<span className={s.title}>Contacts:</span>\r\n\t\t\t\t<div className={s.contacts}>\r\n\t\t\t\t\t{Object.keys(profile.contacts).map(key => {\r\n\t\t\t\t\t\treturn <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]} />\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport const Contact = ({ contactTitle, contactValue }) => {\r\n\treturn (<div>\r\n\t\t<b>{contactTitle}</b>: {contactValue}\r\n\t</div>)\r\n}\r\n\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer';\r\nimport MyPosts from './Myposts';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tposts: state.profilePage.posts,\r\n\t\tnewPostText: state.profilePage.newPostText\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPost: (newPostText) => {\r\n\t\t\tdispatch(addPostActionCreator(newPostText));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport MyPosts from './Myposts/Myposts';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './Myposts/MypostsContainer';\r\n\r\nconst Profile = (props) => {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<ProfileInfo\r\n\t\t\t\tsavePhoto={props.savePhoto}\r\n\t\t\t\tisOwner={props.isOwner}\r\n\t\t\t\tprofile={props.profile}\r\n\t\t\t\tstatus={props.status}\r\n\t\t\t\tsaveProfile={props.saveProfile}\r\n\t\t\t\tupdateStatus={props.updateStatus} />\r\n\t\t\t<MyPostsContainer />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport * as axios from 'axios';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile } from './../../redux/profile-reducer';\r\nimport { withRouter } from 'react-router';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n\trefreshProfile() {\r\n\t\tlet userId = this.props.match.params.userId;\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.authorizedUserId;\r\n\t\t\tif (!userId) {\r\n\t\t\t\tthis.props.history.push(\"/login\")\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.props.getUserProfile(userId);\r\n\t\tthis.props.getStatus(userId);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.refreshProfile();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif (this.props.match.params.userId != prevProps.match.params.userId) {\r\n\t\t\tthis.refreshProfile();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Profile {...this.props}\r\n\t\t\t\tisOwner={!this.props.match.params.userId}\r\n\t\t\t\tprofile={this.props.profile}\r\n\t\t\t\tstatus={this.props.status}\r\n\t\t\t\tupdateStatus={this.props.updateStatus}\r\n\t\t\t\tsavePhoto={this.props.savePhoto} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tprofile: state.profilePage.profile,\r\n\tstatus: state.profilePage.status,\r\n\tauthorizedUserId: state.auth.userId,\r\n\tisAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile }),\r\n\twithRouter,\r\n\twithAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}